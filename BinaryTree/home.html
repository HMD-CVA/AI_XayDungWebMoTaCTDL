<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BST Visualizer - Giao Di·ªán Hi·ªán ƒê·∫°i</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- D3.js -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="home.css">
</head>
<body>
    <div class="app-container">
        <!-- App Header -->
        <div class="app-header">
            <div class="app-title">
                <span>üå≥</span> Binary Search Tree Visualizer
            </div>
            <div class="header-controls">
                <button class="btn btn-light btn-sm" onclick="toggleControls()">
                    <span id="toggleIcon">‚ñº</span> 
                    <span id="toggleText">Thu Nh·ªè Controls</span>
                </button>
            </div>
        </div>
        
        <!-- Control Bar -->
        <div class="control-bar" id="controlBar">
            <div class="control-content">
                <div class="control-group">
                    <h6>T·∫°o C√¢y</h6>
                    <input type="number" id="nodeCount" class="form-control" placeholder="S·ªë node" min="1" max="100" style="width: 100px;">
                    <textarea id="nodeValues" class="form-control" placeholder="Nh·∫≠p gi√° tr·ªã (c√°ch nhau d·∫•u ph·∫©y)" rows="1" style="width: 220px;"></textarea>
                    <button class="btn btn-primary" onclick="createTreeFromInput()">
                        <span>üå≥</span> T·∫°o C√¢y
                    </button>
                    <button class="btn btn-success" onclick="createRandomTree()">
                        <span>üé≤</span> C√¢y Ng·∫´u Nhi√™n
                    </button>
                </div>
                
                <div class="control-group">
                    <h6>Thao T√°c Node</h6>
                    <input type="number" id="nodeValue" class="form-control" placeholder="Gi√° tr·ªã node" min="-9999" max="9999" style="width: 130px;">
                    <button class="btn btn-primary" onclick="insertNode()">
                        <span>‚ûï</span> Th√™m Node
                    </button>
                    <button class="btn btn-warning" onclick="findNode()">
                        <span>üîç</span> T√¨m Ki·∫øm
                    </button>
                    <button class="btn btn-danger" onclick="deleteSelectedNode()">
                        <span>‚ùå</span> X√≥a Node
                    </button>
                </div>
                
                <div class="control-group">
                    <h6>H√†nh ƒê·ªông Kh√°c</h6>
                    <button class="btn btn-danger" onclick="clearTree()">
                        <span>üóëÔ∏è</span> X√≥a C√¢y
                    </button>
                    <button class="btn btn-primary" onclick="balanceTree()">
                        <span>‚öñÔ∏è</span> C√¢n B·∫±ng
                    </button>
                    <button class="btn btn-info" onclick="traverseTree('inorder')">
                        <span>üîÑ</span> Duy·ªát In-order
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Graph Container -->
            <div class="graph-container" id="graphContainer">
                <svg id="treeSVG"></svg>
                
                <!-- Zoom Controls -->
                <div class="zoom-controls">
                    <button class="zoom-btn" onclick="zoomIn()">+</button>
                    <button class="zoom-btn" onclick="zoomOut()">-</button>
                    <button class="zoom-btn" onclick="resetZoom()">‚Ü∫</button>
                </div>
                
                <!-- Legend -->
                <div class="legend">
                    <div class="legend-title">
                        <span>üìã</span> Ch√∫ Th√≠ch
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #4cc9f0;"></div>
                        <span>Nh√°nh Tr√°i</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #4361ee;"></div>
                        <span>Nh√°nh Ph·∫£i</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #f72585;"></div>
                        <span>Node ƒê∆∞·ª£c Ch·ªçn</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: #f8961e;"></div>
                        <span>Node ƒê√£ Duy·ªát</span>
                    </div>
                </div>
                
                <!-- Stats -->
                <div class="stats-panel">
                    <div class="stats-title">
                        <span>üìä</span> Th·ªëng K√™ C√¢y
                    </div>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span>T·ªïng Nodes:</span>
                            <span class="stat-value" id="nodeCountDisplay">0</span>
                        </div>
                        <div class="stat-item">
                            <span>Chi·ªÅu Cao:</span>
                            <span class="stat-value" id="treeHeight">0</span>
                        </div>
                        <div class="stat-item">
                            <span>Node ƒêang Ch·ªçn:</span>
                            <span class="stat-value" id="selectedValue">-</span>
                        </div>
                        <div class="stat-item">
                            <span>Tr·∫°ng Th√°i BST:</span>
                            <span class="stat-value" id="balanceStatus">‚úì</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Toggle Info Button -->
        <button class="toggle-info-btn" id="toggleInfoBtn" onclick="toggleInfoPanel()">
            <span>‚ñ≤</span> Thu·∫≠t To√°n
        </button>
        
        <!-- Info Panel -->
        <div class="info-panel collapsed" id="infoPanel">
            <div class="info-panel-header">
                <h3>Thu·∫≠t To√°n Binary Search Tree</h3>
                <button class="toggle-info-btn" onclick="toggleInfoPanel()">
                    <span>‚ñº</span> ·∫®n
                </button>
            </div>
            <div class="info-panel-content" id="algorithmSteps">
                <div class="algorithm-step">
                    <div class="step-title">1. Kh·ªüi t·∫°o c√¢y BST</div>
                    <div class="step-description">
                        - T·∫°o m·ªôt c√¢y r·ªóng v·ªõi root = null<br>
                        - M·ªói node c√≥ gi√° tr·ªã, con tr·ªè left v√† right
                    </div>
                </div>
                <div class="algorithm-step">
                    <div class="step-title">2. Th√™m node m·ªõi</div>
                    <div class="step-description">
                        - So s√°nh gi√° tr·ªã m·ªõi v·ªõi node hi·ªán t·∫°i<br>
                        - N·∫øu nh·ªè h∆°n: ƒëi sang nh√°nh tr√°i<br>
                        - N·∫øu l·ªõn h∆°n: ƒëi sang nh√°nh ph·∫£i<br>
                        - Khi g·∫∑p v·ªã tr√≠ null, ch√®n node m·ªõi
                    </div>
                </div>
                <div class="algorithm-step">
                    <div class="step-title">3. T√¨m ki·∫øm node</div>
                    <div class="step-description">
                        - So s√°nh gi√° tr·ªã c·∫ßn t√¨m v·ªõi node hi·ªán t·∫°i<br>
                        - N·∫øu b·∫±ng: tr·∫£ v·ªÅ node<br>
                        - N·∫øu nh·ªè h∆°n: t√¨m trong nh√°nh tr√°i<br>
                        - N·∫øu l·ªõn h∆°n: t√¨m trong nh√°nh ph·∫£i<br>
                        - N·∫øu kh√¥ng t√¨m th·∫•y: tr·∫£ v·ªÅ null
                    </div>
                </div>
                <div class="algorithm-step">
                    <div class="step-title">4. X√≥a node</div>
                    <div class="step-description">
                        - T√¨m node c·∫ßn x√≥a<br>
                        - Tr∆∞·ªùng h·ª£p 1: Node l√° - x√≥a tr·ª±c ti·∫øp<br>
                        - Tr∆∞·ªùng h·ª£p 2: Node c√≥ 1 con - thay th·∫ø b·∫±ng con<br>
                        - Tr∆∞·ªùng h·ª£p 3: Node c√≥ 2 con - t√¨m node nh·ªè nh·∫•t trong nh√°nh ph·∫£i ƒë·ªÉ thay th·∫ø
                    </div>
                </div>
                <div class="algorithm-step">
                    <div class="step-title">5. Duy·ªát c√¢y</div>
                    <div class="step-description">
                        - In-order: Tr√°i -> G·ªëc -> Ph·∫£i (cho k·∫øt qu·∫£ tƒÉng d·∫ßn)<br>
                        - Pre-order: G·ªëc -> Tr√°i -> Ph·∫£i<br>
                        - Post-order: Tr√°i -> Ph·∫£i -> G·ªëc
                    </div>
                </div>
                <div class="algorithm-step">
                    <div class="step-title">6. C√¢n b·∫±ng c√¢y</div>
                    <div class="step-description">
                        - Thu th·∫≠p t·∫•t c·∫£ node theo th·ª© t·ª± in-order<br>
                        - X√¢y d·ª±ng l·∫°i c√¢y t·ª´ m·∫£ng ƒë√£ s·∫Øp x·∫øp<br>
                        - Ch·ªçn ph·∫ßn t·ª≠ gi·ªØa l√†m root, ƒë·ªá quy cho n·ª≠a tr√°i v√† ph·∫£i
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="home.js"></script>
</body>
</html>